"use strict";(self.webpackChunk_map_colonies_developer_portal=self.webpackChunk_map_colonies_developer_portal||[]).push([[2787],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>k});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=p(n),c=r,k=m["".concat(s,".").concat(c)]||m[c]||d[c]||o;return n?a.createElement(k,l(l({ref:t},u),{},{components:n})):a.createElement(k,l({ref:t},u))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=c;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[m]="string"==typeof e?e:r,l[1]=i;for(var p=2;p<o;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},15122:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const o={sidebar_position:3,id:"osm-nominatim-address",slug:"Osm-AddressLookup-API",title:"Address Lookup API",tags:["osm","search","API","lookup","nominatim"]},l="Address lookup",i={unversionedId:"MapColonies/openstreetmap/nominatim/osm-nominatim-address",id:"MapColonies/openstreetmap/nominatim/osm-nominatim-address",title:"Address Lookup API",description:"The lookup API allows to query the address and other details of one or",source:"@site/docs/MapColonies/openstreetmap/nominatim/lookup.md",sourceDirName:"MapColonies/openstreetmap/nominatim",slug:"/MapColonies/openstreetmap/nominatim/Osm-AddressLookup-API",permalink:"/developer-portal/pr-preview/pr-80/docs/MapColonies/openstreetmap/nominatim/Osm-AddressLookup-API",draft:!1,editUrl:"https://github.com/MapColonies/developer-portal/tree/main/packages/create-docusaurus/templates/shared/docs/MapColonies/openstreetmap/nominatim/lookup.md",tags:[{label:"osm",permalink:"/developer-portal/pr-preview/pr-80/docs/tags/osm"},{label:"search",permalink:"/developer-portal/pr-preview/pr-80/docs/tags/search"},{label:"API",permalink:"/developer-portal/pr-preview/pr-80/docs/tags/api"},{label:"lookup",permalink:"/developer-portal/pr-preview/pr-80/docs/tags/lookup"},{label:"nominatim",permalink:"/developer-portal/pr-preview/pr-80/docs/tags/nominatim"}],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,id:"osm-nominatim-address",slug:"Osm-AddressLookup-API",title:"Address Lookup API",tags:["osm","search","API","lookup","nominatim"]},sidebar:"docSidebar",previous:{title:"Reverse GeoCoding API",permalink:"/developer-portal/pr-preview/pr-80/docs/MapColonies/openstreetmap/nominatim/Osm-Reverse-Search-API"},next:{title:"Output Formats",permalink:"/developer-portal/pr-preview/pr-80/docs/MapColonies/openstreetmap/nominatim/Osm-output-API"}},s={},p=[{value:"Parameters",id:"parameters",level:2},{value:"Output format",id:"output-format",level:3},{value:"Output details",id:"output-details",level:3},{value:"Language of results",id:"language-of-results",level:3},{value:"Polygon output",id:"polygon-output",level:3},{value:"Other",id:"other",level:3},{value:"Examples",id:"examples",level:2},{value:"XML",id:"xml",level:5},{value:"JSON with extratags",id:"json-with-extratags",level:5}],u={toc:p},m="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(m,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"address-lookup"},"Address lookup"),(0,r.kt)("p",null,"The lookup API allows to query the address and other details of one or\nmultiple OSM objects like node, way or relation."),(0,r.kt)("h2",{id:"parameters"},"Parameters"),(0,r.kt)("p",null,"The lookup API has the following format:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"  <VECTOR-NOMINATIM-SERVICE_URL>/lookup?osm_ids=[N|W|R]<value>,\u2026,\u2026,&<params>\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"osm_ids")," is mandatory and must contain a comma-separated list of OSM ids each\nprefixed with its type, one of node(N), way(W) or relation(R). Up to 50 ids\ncan be queried at the same time."),(0,r.kt)("p",null,"Additional optional parameters are explained below."),(0,r.kt)("h3",{id:"output-format"},"Output format"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"format=[xml|json|jsonv2|geojson|geocodejson]"))),(0,r.kt)("p",null,"See ",(0,r.kt)("a",{parentName:"p",href:"/docs/MapColonies/openstreetmap/nominatim/Osm-output-API"},"Place Output Formats")," for details on each format. (Default: xml)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"json_callback=<string>"))),(0,r.kt)("p",null,"Wrap JSON output in a callback function (JSONP) i.e. ",(0,r.kt)("inlineCode",{parentName:"p"},"<string>(<json>)"),".\nOnly has an effect for JSON output formats."),(0,r.kt)("h3",{id:"output-details"},"Output details"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"addressdetails=[0|1]"))),(0,r.kt)("p",null,"Include a breakdown of the address into elements. (Default: 0)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"extratags=[0|1]"))),(0,r.kt)("p",null,"Include additional information in the result if available,\ne.g. wikipedia link, opening hours. (Default: 0)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"namedetails=[0|1]"))),(0,r.kt)("p",null,"Include a list of alternative names in the results. These may include\nlanguage variants, references, operator and brand. (Default: 0)"),(0,r.kt)("h3",{id:"language-of-results"},"Language of results"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"accept-language=<browser language string>"))),(0,r.kt)("p",null,'Preferred language order for showing search results, overrides the value\nspecified in the "Accept-Language" HTTP header.\nEither use a standard RFC2616 accept-language string or a simple\ncomma-separated list of language codes.'),(0,r.kt)("h3",{id:"polygon-output"},"Polygon output"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"polygon_geojson=1")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"polygon_kml=1")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"polygon_svg=1")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"polygon_text=1"))),(0,r.kt)("p",null,"Output geometry of results as a GeoJSON, KML, SVG or WKT. Only one of these\noptions can be used at a time. (Default: 0)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"polygon_threshold=0.0"))),(0,r.kt)("p",null,"Return a simplified version of the output geometry. The parameter is the\ntolerance in degrees with which the geometry may differ from the original\ngeometry. Topology is preserved in the result. (Default: 0.0)"),(0,r.kt)("h3",{id:"other"},"Other"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"email=<valid email address>"))),(0,r.kt)("p",null,"If you are making large numbers of request please include an appropriate email\naddress to identify your requests (only relevant when using the service in the internet)."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"debug=[0|1]"))),(0,r.kt)("p",null,'Output assorted developer debug information. Data on internals of Nominatim\'s\n"Search Loop" logic, and SQL queries. The output is (rough) HTML format.\nThis overrides the specified machine readable format. (Default: 0)'),(0,r.kt)("h2",{id:"examples"},"Examples"),(0,r.kt)("h5",{id:"xml"},"XML"),(0,r.kt)("p",null,"[<VECTOR-NOMINATIM-SERVICE_URL>/lookup?osm_ids=R7116646,W551414758,N4976386821]","(<VECTOR-NOMINATIM-SERVICE_URL>/lookup?osm_ids=R7116646,W551414758,N4976386821)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:'title="Lookup Results in XML Format"',title:'"Lookup',Results:!0,in:!0,XML:!0,'Format"':!0},'  <lookupresults timestamp="Tue, 24 Jan 23 06:41:19 +0000"\n    attribution="Data \xa9 OpenStreetMap contributors, ODbL 1.0. http://www.openstreetmap.org/copyright"\n    querystring="R7116646,W551414758,N4976386821" more_url="">\n    <place place_id="308733271" osm_type="relation" osm_id="7116646" place_rank="30" address_rank="30"\n      boundingbox="31.7805304,31.7816054,35.2033623,35.2046501" lat="31.78107505"\n      lon="35.20375223509767"\n      display_name="Supreme Court of Israel, Rotschild, Kiryat HaMemshalah, Jerusalem, Jerusalem Subdistrict, Jerusalem District, 9432301, Israel"\n      class="amenity" type="courthouse" importance="0.24232784765904">\n      <amenity>Supreme Court of Israel</amenity>\n      <road>Rotschild</road>\n      <suburb>Kiryat HaMemshalah</suburb>\n      <city>Jerusalem</city>\n      <state_district>Jerusalem Subdistrict</state_district>\n      <state>Jerusalem District</state>\n      <ISO3166-2-lvl4>IL-JM</ISO3166-2-lvl4>\n      <postcode>9432301</postcode>\n      <country>Israel</country>\n      <country_code>il</country_code>\n    </place>\n    <place place_id="222933834" osm_type="way" osm_id="551414758" place_rank="30" address_rank="30"\n      boundingbox="31.7760076,31.776938,35.2048741,35.2059629" lat="31.776474049999997"\n      lon="35.20538295033272"\n      display_name="Knesset, Berman Square, Kiryat HaMemshalah, Jerusalem, Jerusalem Subdistrict, Jerusalem District, 9107202, Israel"\n      class="office" type="government" importance="0.34176259084946">\n      <office>Knesset</office>\n      <road>Berman Square</road>\n      <suburb>Kiryat HaMemshalah</suburb>\n      <city>Jerusalem</city>\n      <state_district>Jerusalem Subdistrict</state_district>\n      <state>Jerusalem District</state>\n      <ISO3166-2-lvl4>IL-JM</ISO3166-2-lvl4>\n      <postcode>9107202</postcode>\n      <country>Israel</country>\n      <country_code>il</country_code>\n    </place>\n    <place place_id="55796886" osm_type="node" osm_id="4976386821" place_rank="30" address_rank="30"\n      boundingbox="32.0695874,32.0696874,34.7845255,34.7846255" lat="32.0696374" lon="34.7845755"\n      display_name="Lehamim, 103, HaHashmonaim, Sarona Gardens, Tel Aviv, Bitsaron, Tel Aviv-Yafo, Tel Aviv Subdistrict, Tel Aviv District, 6713203, Israel"\n      class="shop" type="bakery" importance="9.9999999999545E-6">\n      <shop>Lehamim</shop>\n      <house_number>103</house_number>\n      <road>HaHashmonaim</road>\n      <suburb>Bitsaron</suburb>\n      <residential>Tel Aviv</residential>\n      <city>Tel Aviv-Yafo</city>\n      <state_district>Tel Aviv Subdistrict</state_district>\n      <state>Tel Aviv District</state>\n      <ISO3166-2-lvl4>IL-TA</ISO3166-2-lvl4>\n      <postcode>6713203</postcode>\n      <country>Israel</country>\n      <country_code>il</country_code>\n    </place>\n  </lookupresults>\n')),(0,r.kt)("h5",{id:"json-with-extratags"},"JSON with extratags"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"/details.html?osmtype=W&osmid=44296789")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Lookup Results in JSON Format"',title:'"Lookup',Results:!0,in:!0,JSON:!0,'Format"':!0},'[\n    {\n        "place_id": 119518296,\n        "licence": "Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright",\n        "osm_type": "way",\n        "osm_id": 44296789,\n        "boundingbox": [\n            "31.7775552",\n            "31.777817",\n            "35.2019221",\n            "35.203181"\n        ],\n        "lat": "31.777682300000002",\n        "lon": "35.202551594501585",\n        "display_name": "Ministry of Finance, Rupin, Kiryat HaMemshalah, Jerusalem, Jerusalem Subdistrict, Jerusalem District, 9218812, Israel",\n        "class": "office",\n        "type": "government",\n        "importance": 0.4438713827293206,\n        "address": {\n            "office": "Ministry of Finance",\n            "road": "Rupin",\n            "suburb": "Kiryat HaMemshalah",\n            "city": "Jerusalem",\n            "state_district": "Jerusalem Subdistrict",\n            "state": "Jerusalem District",\n            "ISO3166-2-lvl4": "IL-JM",\n            "postcode": "9218812",\n            "country": "Israel",\n            "country_code": "il"\n        },\n        "extratags": {\n            "wikidata": "Q1707870",\n            "government": "ministry",\n            "building:levels": "7"\n        }\n    }\n]\n')))}d.isMDXComponent=!0}}]);