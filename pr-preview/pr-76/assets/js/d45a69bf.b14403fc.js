"use strict";(self.webpackChunk_map_colonies_developer_portal=self.webpackChunk_map_colonies_developer_portal||[]).push([[5399],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>g});var r=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=r.createContext({}),l=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},c=function(e){var n=l(e.components);return r.createElement(p.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=l(t),m=o,g=u["".concat(p,".").concat(m)]||u[m]||d[m]||a;return t?r.createElement(g,s(s({ref:n},c),{},{components:t})):r.createElement(g,s({ref:n},c))}));function g(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,s=new Array(a);s[0]=m;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i[u]="string"==typeof e?e:o,s[1]=i;for(var l=2;l<a;l++)s[l]=t[l];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},83248:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var r=t(87462),o=(t(67294),t(3905));const a={id:"raster-polygon-parts-service",slug:"polygon-parts",title:"Polygon Parts \ud83e\udde9",description:"Search, Filter and Aggregate polygon parts (vectorial) layers",tags:["wfs","raster","features","API","polygon-parts"]},s="Polygon Parts Service \ud83e\udde9",i={unversionedId:"MapColonies/Raster/services/PolygonParts/raster-polygon-parts-service",id:"MapColonies/Raster/services/PolygonParts/raster-polygon-parts-service",title:"Polygon Parts \ud83e\udde9",description:"Search, Filter and Aggregate polygon parts (vectorial) layers",source:"@site/docs/MapColonies/Raster/services/PolygonParts/README.md",sourceDirName:"MapColonies/Raster/services/PolygonParts",slug:"/MapColonies/Raster/services/PolygonParts/polygon-parts",permalink:"/developer-portal/pr-preview/pr-76/docs/MapColonies/Raster/services/PolygonParts/polygon-parts",draft:!1,editUrl:"https://github.com/MapColonies/developer-portal/tree/main/packages/create-docusaurus/templates/shared/docs/MapColonies/Raster/services/PolygonParts/README.md",tags:[{label:"wfs",permalink:"/developer-portal/pr-preview/pr-76/docs/tags/wfs"},{label:"raster",permalink:"/developer-portal/pr-preview/pr-76/docs/tags/raster"},{label:"features",permalink:"/developer-portal/pr-preview/pr-76/docs/tags/features"},{label:"API",permalink:"/developer-portal/pr-preview/pr-76/docs/tags/api"},{label:"polygon-parts",permalink:"/developer-portal/pr-preview/pr-76/docs/tags/polygon-parts"}],version:"current",frontMatter:{id:"raster-polygon-parts-service",slug:"polygon-parts",title:"Polygon Parts \ud83e\udde9",description:"Search, Filter and Aggregate polygon parts (vectorial) layers",tags:["wfs","raster","features","API","polygon-parts"]},sidebar:"docSidebar",previous:{title:"Services",permalink:"/developer-portal/pr-preview/pr-76/docs/category/services"},next:{title:"Profile v1",permalink:"/developer-portal/pr-preview/pr-76/docs/MapColonies/Raster/services/PolygonParts/polygon-parts-profile-v1"}},p={},l=[{value:"General",id:"general",level:2},{value:"Understanding Polygon Parts on Layer (records) management - Updates",id:"understanding-polygon-parts-on-layer-records-management---updates",level:3},{value:"Polygons",id:"polygons",level:3},{value:"Layers",id:"layers",level:3},{value:"WFS implementation",id:"wfs-implementation",level:3},{value:"Overview",id:"overview",level:2},{value:"The typeNames Convention",id:"the-typenames-convention",level:3},{value:"GetCapabilities",id:"getcapabilities",level:2},{value:"List WFS capabilities and find available FeaturesTypes",id:"list-wfs-capabilities-and-find-available-featurestypes",level:3},{value:"DescribeFeatureType",id:"describefeaturetype",level:2},{value:"Explore featureType &#39;Orthophoto Best&#39; layer",id:"explore-featuretype-orthophoto-best-layer",level:3},{value:"GetFeature",id:"getfeature",level:2},{value:"Limit response feature count",id:"limit-response-feature-count",level:3},{value:"Pagination",id:"pagination",level:3},{value:"Sorting",id:"sorting",level:3},{value:"Query by geographical limits",id:"query-by-geographical-limits",level:3},{value:"Combining multiple filters",id:"combining-multiple-filters",level:3}],c={toc:l},u="wrapper";function d(e){let{components:n,...a}=e;return(0,o.kt)(u,(0,r.Z)({},c,a,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"polygon-parts-service-"},"Polygon Parts Service \ud83e\udde9"),(0,o.kt)("h2",{id:"general"},"General"),(0,o.kt)("h3",{id:"understanding-polygon-parts-on-layer-records-management---updates"},"Understanding Polygon Parts on Layer (records) management - Updates"),(0,o.kt)("p",null,"This system utilizes polygons and layers to represent the precise area of a product and track all updates received over time. Polygons define the exact boundaries, while layers provide a structured way to integrate these updates. Let's delve deeper into how this system functions."),(0,o.kt)("h3",{id:"polygons"},"Polygons"),(0,o.kt)("p",null,"Represent the precise area of a product and all its subsequent updates.\nContain additional metadata like update date, accuracy, and photo sensor information."),(0,o.kt)("h3",{id:"layers"},"Layers"),(0,o.kt)("p",null,"Composed of continuous geographic regions defined by several polygons.\nEach polygon holds its own metadata.\nUpdates are merged with overlapping layers below.\nPolygons within existing layers that overlap the new update (completely or partially) are re-calculated."),(0,o.kt)("figure",null,(0,o.kt)("img",{src:t(16394).Z,style:{display:"block",marginLeft:"auto",marginRight:"auto"}})),(0,o.kt)("admonition",{title:"Practical Example",type:"important"},(0,o.kt)("p",{parentName:"admonition"},"B is a new layer containing 3 polygon parts about to be merged into an existing layer.\nAs you can see in the \u201cAfter\u201d figure on the right, the new layer parts contains the merged polygon parts of A and B.\nEach part hold its own metadata and related attributes ",(0,o.kt)("a",{parentName:"p",href:"/developer-portal/pr-preview/pr-76/docs/MapColonies/Raster/services/PolygonParts/polygon-parts-profile-v1"},"PolygonParts attributes"))),(0,o.kt)("h3",{id:"wfs-implementation"},"WFS implementation"),(0,o.kt)("p",null,"Raster polygon parts service uses the ",(0,o.kt)("a",{parentName:"p",href:"/docs/ogc/protocols/ogc-wfs"},"WFS")," protocol which is a READ-ONLY Web Feature Service.\nit provides facilities for searching and retrieving feature data with the ",(0,o.kt)("inlineCode",{parentName:"p"},"GetCapabilities"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"DescribeFeatureType")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"GetFeature")," operations all other operations are invalid."),(0,o.kt)("p",null,"For the full capabilities provided by the service see ",(0,o.kt)("a",{parentName:"p",href:"/docs/ogc/protocols/ogc-wfs#getcapabilities"},"GetCapabilities")),(0,o.kt)("p",null,"WFS partitions the queryable data into feature types each feature type has its own attributes describing the structure of the data itself.\nFor the description of a feature type see ",(0,o.kt)("a",{parentName:"p",href:"/docs/ogc/protocols/ogc-wfs#describefeaturetype"},"DescribeFeatureType")),(0,o.kt)("p",null,"Finally, Features can be retrieved with the ",(0,o.kt)("a",{parentName:"p",href:"/docs/ogc/protocols/ogc-wfs#getfeature"},"GetFeature")," operation. the request returns a collection of geographic feature instances filtered according to a criteria set by the requesting client."),(0,o.kt)("br",null),(0,o.kt)("admonition",{type:"important"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("strong",{parentName:"p"},"In polygon parts, each feature represent single polygon"))),(0,o.kt)("admonition",{title:"Authentication",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("strong",{parentName:"p"},"Authentication must be integrated in order to communicate with Map and Catalog services."),(0,o.kt)("br",null),"\n",(0,o.kt)("strong",{parentName:"p"},"See the principles ",(0,o.kt)("a",{parentName:"strong",href:"/docs/MapColonies/authentication"},"here")))),(0,o.kt)("h2",{id:"overview"},"Overview"),(0,o.kt)("p",null,"WFS protocol partitions the queryable features into different feature types.\nEach feature types actually represent other catalog layer ",(0,o.kt)("a",{parentName:"p",href:"/docs/MapColonies/Raster/services/catalog/raster-catalog-profile-v1"},"Raster Catalog"),"."),(0,o.kt)("p",null,"Each feature type consists of same polygon parts schema describing the feature. the feature type is queryable by its schema, each feature type has a default coordinate reference system and the bounding box which contains all features of this type, those are also possible parameters for querying."),(0,o.kt)("p",null,"Let's see an example using all three operations with different filters, the following chart describes our work flow"),(0,o.kt)("mermaid",{value:"flowchart LR\nA{Get Auth Token} --\x3e|token| B[GetCapabilities]\n    subgraph WFS\n      direction LR\n        B --\x3e|FeatureTypeList| C{Select Feature}\n        C --\x3e|feature| D[DescribeFeatureType]\n        D --\x3e|schema| E{Build Your Filter}\n        E --\x3e|filter| F[GetFeature]\n        F --\x3eG((filtered features))\n    end"}),(0,o.kt)("h3",{id:"the-typenames-convention"},"The typeNames Convention"),(0,o.kt)("p",null,"Each typeName represent a Layer from the catalog. The name string includes several parts as in the layer conventions:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"<productId>-<productType>\n")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"productId")," represent a layer's product id, for example: ",(0,o.kt)("inlineCode",{parentName:"li"},"ORTHOPHOTO_MOSAIC_BASE")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"productType")," represent layer's product type, for example: ",(0,o.kt)("inlineCode",{parentName:"li"},"OrthophotoBest"))),(0,o.kt)("p",null,"So, for our example, the feature type name will be: ",(0,o.kt)("inlineCode",{parentName:"p"},"ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest"),"."),(0,o.kt)("h2",{id:"getcapabilities"},"GetCapabilities"),(0,o.kt)("h3",{id:"list-wfs-capabilities-and-find-available-featurestypes"},"List WFS capabilities and find available FeaturesTypes"),(0,o.kt)("p",null,"To list all the available feature types use the ",(0,o.kt)("inlineCode",{parentName:"p"},"GetCapabilities")," operation and look for the ",(0,o.kt)("inlineCode",{parentName:"p"},"FeatureTypeList")," section."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"<POLYGON_PARTS_QUERY_SERVICE_URL>/wfs?\n    service=wfs&\n    version={WFS_SERVICE_VERSION}&\n    request=GetCapabilities\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Response"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml",metastring:'title="Response"',title:'"Response"'},'<FeatureTypeList>\n        <FeatureType xmlns:polygon_parts="http://polygon_parts">\n            <Name>polygon_parts:BLUEMARBLE-Orthophoto</Name>\n            <Title>BLUEMARBLE-Orthophoto</Title>\n            <Abstract/>\n            <ows:Keywords>\n                <ows:Keyword>features</ows:Keyword>\n                <ows:Keyword>polygon_parts</ows:Keyword>\n            </ows:Keywords>\n            <DefaultCRS>urn:ogc:def:crs:EPSG::4326</DefaultCRS>\n            <ows:WGS84BoundingBox>\n                <ows:LowerCorner>-180.0 -90.0</ows:LowerCorner>\n                <ows:UpperCorner>180.0 90.0</ows:UpperCorner>\n            </ows:WGS84BoundingBox>\n        </FeatureType>\n        <FeatureType xmlns:polygon_parts="http://polygon_parts">\n            <Name>polygon_parts:ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest</Name>\n            <Title>mosaic_base_ORTHOPHOTO_MOSAIC_BASE</Title>\n            <Abstract/>\n            <ows:Keywords>\n                <ows:Keyword>features</ows:Keyword>\n                <ows:Keyword>polygon_parts</ows:Keyword>\n            </ows:Keywords>\n            <DefaultCRS>urn:ogc:def:crs:EPSG::4326</DefaultCRS>\n            <ows:WGS84BoundingBox>\n                <ows:LowerCorner>-180.0 -90.0</ows:LowerCorner>\n                <ows:UpperCorner>180.0 90.0</ows:UpperCorner>\n            </ows:WGS84BoundingBox>\n        </FeatureType>\n    </FeatureTypeList>\n'))),(0,o.kt)("br",null),(0,o.kt)("p",null,"We got a ",(0,o.kt)("inlineCode",{parentName:"p"},"FeatureTypeList")," consisting of the different ",(0,o.kt)("inlineCode",{parentName:"p"},"FeatureTypes")," that each one hold and represent some catalog layer under the WFS service. one of them is the ",(0,o.kt)("inlineCode",{parentName:"p"},"polygon_parts:ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest"),".",(0,o.kt)("inlineCode",{parentName:"p"},"FeatureType")," where polygon_parts is the namespace and the orthophoto_mosaic_base_ORTHOPHOTO_MOSAIC_BASE is the unique ",(0,o.kt)("inlineCode",{parentName:"p"},"FeatureType")," name under the polygon_parts namespace - it include layer's ",(0,o.kt)("inlineCode",{parentName:"p"},"product_name")," + ",(0,o.kt)("inlineCode",{parentName:"p"},"product_type"),". it is possible to query the FeatureType by its full name ",(0,o.kt)("inlineCode",{parentName:"p"},"polygon_parts:ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest")," or short unique name ",(0,o.kt)("inlineCode",{parentName:"p"},"ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest"),".\nThe default coordinate reference system and the containing features bounding box are also presented."),(0,o.kt)("h2",{id:"describefeaturetype"},"DescribeFeatureType"),(0,o.kt)("h3",{id:"explore-featuretype-orthophoto-best-layer"},"Explore featureType 'Orthophoto Best' layer"),(0,o.kt)("p",null,"If you would like to view the schema of the ",(0,o.kt)("inlineCode",{parentName:"p"},"ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest")," ",(0,o.kt)("inlineCode",{parentName:"p"},"FeatureType"),", we could invoke the ",(0,o.kt)("inlineCode",{parentName:"p"},"DescribeFeatureType")," request with ",(0,o.kt)("inlineCode",{parentName:"p"},"typeName")," of ",(0,o.kt)("inlineCode",{parentName:"p"},"ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest")),(0,o.kt)("p",null,"The response is the XSD (in xml response) describing the ",(0,o.kt)("inlineCode",{parentName:"p"},"ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest")," ",(0,o.kt)("inlineCode",{parentName:"p"},"FeatureType"),"."),(0,o.kt)("p",null,"For convenience we'll add outputFormat parameter as ",(0,o.kt)("inlineCode",{parentName:"p"},"application/json")," to each of our requests for a json formatted response"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"<POLYGON_PARTS_QUERY_SERVICE_URL>/wfs?\n    service=wfs&\n    version={WFS_SERVICE_VERSION}&\n    request=DescribeFeatureType&\n    typeName=ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest&\n    outputFormat=application/json\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Response"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response in JSON"',title:'"Response',in:!0,'JSON"':!0},'{\n  "elementFormDefault": "qualified",\n  "targetNamespace": "http://polygon_parts",\n  "targetPrefix": "polygon_parts",\n  "featureTypes": [\n    {\n      "typeName": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest",\n      "properties": [\n        {\n          "name": "partId",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:int",\n          "localType": "int"\n        },\n        {\n          "name": "recordId",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:string",\n          "localType": "string"\n        },\n        {\n          "name": "productId",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:string",\n          "localType": "string"\n        },\n        {\n          "name": "producType",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:string",\n          "localType": "string"\n        },\n        {\n          "name": "id",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:string",\n          "localType": "string"\n        },\n        {\n          "name": "name",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:string",\n          "localType": "string"\n        },\n        {\n          "name": "updatedInVersion",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:string",\n          "localType": "string"\n        },\n        {\n          "name": "ingestionDateUTC",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:date-time",\n          "localType": "date-time"\n        },\n        {\n          "name": "imagingTimeBeginUTC",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:date-time",\n          "localType": "date-time"\n        },\n        {\n          "name": "imagingTimeEndUTC",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:date-time",\n          "localType": "date-time"\n        },\n        {\n          "name": "resolutionDegree",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:number",\n          "localType": "number"\n        },\n        {\n          "name": "resolutionMeter",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:number",\n          "localType": "number"\n        },\n        {\n          "name": "sourceResolutionMeter",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:number",\n          "localType": "number"\n        },\n        {\n          "name": "horizontalAccuracyCE90",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:number",\n          "localType": "number"\n        },\n        {\n          "name": "sensors",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:string",\n          "localType": "string"\n        },\n        {\n          "name": "countries",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:string",\n          "localType": "string"\n        },\n        {\n          "name": "cities",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:string",\n          "localType": "string"\n        },\n        {\n          "name": "description",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "xsd:string",\n          "localType": "string"\n        },\n        {\n          "name": "geometry",\n          "maxOccurs": 1,\n          "minOccurs": 0,\n          "nillable": true,\n          "type": "gml:Polygon",\n          "localType": "Polygon"\n        }\n      ]\n    }\n  ]\n}\n'))),(0,o.kt)("p",null,"This is a description of a ",(0,o.kt)("inlineCode",{parentName:"p"},"orthophoto_mosaic_base_ORTHOPHOTO_MOSAIC_BASE")," feature that include all polygon parts of the ",(0,o.kt)("inlineCode",{parentName:"p"},"ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest")," catalog layer, it contains these properties. Each property has its own type, nillable flag value and min\\max occurs."),(0,o.kt)("h2",{id:"getfeature"},"GetFeature"),(0,o.kt)("p",null,"Now that we hold the structure of the ",(0,o.kt)("inlineCode",{parentName:"p"},"orthophoto_mosaic_base_ORTHOPHOTO_MOSAIC_BASE")," FeatureType we're able to query layer's polygon parts features by a set of parameters using the ",(0,o.kt)("inlineCode",{parentName:"p"},"GetFeature")," operation, let's see some examples:"),(0,o.kt)("h3",{id:"limit-response-feature-count"},"Limit response feature count"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"let's retrieve 2 of polygon parts for provided featureType ",(0,o.kt)("inlineCode",{parentName:"li"},"orthophoto_mosaic_base_ORTHOPHOTO_MOSAIC_BASE"),", that include actually total of 4 features using GET request:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"<POLYGON_PARTS_QUERY_SERVICE_URL>/wfs?\n    service=wfs&\n    version={WFS_SERVICE_VERSION}&\n    request=GetFeature&\n    count=2&\n    typeName=orthophoto_mosaic_base_ORTHOPHOTO_MOSAIC_BASE&\n    outputFormat=application/json\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Response"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "FeatureCollection",\n  "features": [\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.12",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [180, 90],\n            [180, -90],\n            [-180, -90],\n            [-180, 90],\n            [180, 90]\n          ],\n          [\n            [34.6064, 31.6234],\n            [34.3887, 31.6234],\n            [34.3887, 31.4354],\n            [34.6064, 31.4354],\n            [34.6064, 31.6234]\n          ],\n          [\n            [34.4294, 31.2279],\n            [34.4294, 31.4159],\n            [34.2117, 31.4159],\n            [34.2117, 31.2279],\n            [34.4294, 31.2279]\n          ],\n          [\n            [35.3664, 32.1381],\n            [35.3664, 32.3249],\n            [35.1511, 32.3249],\n            [35.1511, 32.1381],\n            [35.3664, 32.1381]\n          ],\n          [\n            [35.0607, 31.9323],\n            [35.2784, 31.9323],\n            [35.2784, 32.1202],\n            [35.0607, 32.1202],\n            [35.0607, 31.9323]\n          ],\n          [\n            [35.7645, 33.9586],\n            [35.7645, 33.7706],\n            [35.9822, 33.7706],\n            [35.9822, 33.9586],\n            [35.7645, 33.9586]\n          ],\n          [\n            [35.9166, 33.7644],\n            [35.6989, 33.7644],\n            [35.6989, 33.5765],\n            [35.9166, 33.5765],\n            [35.9166, 33.7644]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 1,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "BlueMarble",\n        "name": "O_BlueMarble_rgb_2km",\n        "updatedInVersion": "1",\n        "ingestionDateUTC": "2024-07-11T06:27:49.757Z",\n        "imagingTimeBeginUTC": "2001-01-01T05:00:00Z",\n        "imagingTimeEndUTC": "2001-01-01T05:00:00Z",\n        "resolutionDegree": 0.02197265625,\n        "resolutionMeter": 2000,\n        "sourceResolutionMeter": 2500,\n        "horizontalAccuracyCE90": 2000,\n        "sensors": "MAXAR",\n        "countries": "\u05e2\u05d5\u05dc\u05de\u05d9",\n        "cities": "",\n        "description": ""\n      },\n      "bbox": [-180, -90, 180, 90]\n    },\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.3",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [35.017272438849716, 29.9596406497117],\n            [34.890572098923826, 29.9596406497117],\n            [34.890572098923826, 29.819712060693362],\n            [35.017272438849716, 29.819712060693362],\n            [35.017272438849716, 29.9596406497117]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 2,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_6_ORT_247568-26.0",\n        "name": "O_south_w84geo_Tiff_10cm",\n        "updatedInVersion": "2",\n        "ingestionDateUTC": "2024-07-11T06:27:49.757Z",\n        "imagingTimeBeginUTC": "2022-08-20T23:08:10Z",\n        "imagingTimeEndUTC": "2022-08-20T23:08:10Z",\n        "resolutionDegree": 0.072,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.1,\n        "horizontalAccuracyCE90": 1.5,\n        "sensors": "TEST_SENSOR_2",\n        "countries": "\u05d9\u05e9\u05e8\u05d0\u05dc, \u05d3\u05e8\u05d5\u05dd \u05d4\u05d0\u05e8\u05e5, \u05d3\u05e8\u05d5\u05dd",\n        "cities": "",\n        "description": "\u05ea\u05e9\u05ea\u05d9\u05ea \u05d0\u05d5\u05e8\u05ea\u05d5\u05e4\u05d5\u05d8\u05d5 \u05d1\u05d0\u05d9\u05d6\u05d5\u05e8 \u05d3\u05e8\u05d5\u05dd \u05e2\u05d3\u05db\u05e0\u05d9\u05ea \u05dc\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8 2022"\n      },\n      "bbox": [\n        34.890572098923826, 29.819712060693362, 35.017272438849716,\n        29.9596406497117\n      ]\n    }\n  ],\n  "totalFeatures": 7,\n  "numberMatched": 7,\n  "numberReturned": 2,\n  "timeStamp": "2024-07-11T08:23:42.502Z",\n  "crs": {\n    "type": "name",\n    "properties": {\n      "name": "urn:ogc:def:crs:EPSG::4326"\n    }\n  },\n  "bbox": [-180, -90, 180, 90]\n}\n'))),(0,o.kt)("h3",{id:"pagination"},"Pagination"),(0,o.kt)("p",null,"let's get only part of the feature, using ",(0,o.kt)("inlineCode",{parentName:"p"},"count")," to mention the amount for paging, and ",(0,o.kt)("inlineCode",{parentName:"p"},"startIndex")," as the offset"),(0,o.kt)("p",null,"We'll invoke a POST GetFeature request with the following body:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<wfs:GetFeature service="WFS" version="2.0.0" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd" count="4" startIndex="3" outputFormat="application/json">\n    <wfs:Query typeNames="polygon_parts:ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest">\n        <fes:Filter>\n            <fes:PropertyIsEqualTo>\n               <fes:ValueReference>productId</fes:ValueReference>\n               <fes:Literal>ORTHOPHOTO_MOSAIC_BASE</fes:Literal>\n            </fes:PropertyIsEqualTo>\n\n        </fes:Filter>\n    </wfs:Query>\n</wfs:GetFeature>\n')),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Response"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "FeatureCollection",\n  "features": [\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.5",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [35.017272438849716, 29.9596406497117],\n            [34.890572098923826, 29.9596406497117],\n            [34.890572098923826, 29.819712060693362],\n            [35.017272438849716, 29.819712060693362],\n            [35.017272438849716, 29.9596406497117]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 3,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_6_ORT_247568-26.0",\n        "name": "O_center_w84geo_Tiff_10cm",\n        "updatedInVersion": "3",\n        "ingestionDateUTC": "2024-07-15T12:49:28.597Z",\n        "imagingTimeBeginUTC": "2021-05-15T23:09:00Z",\n        "imagingTimeEndUTC": "2021-05-15T23:09:00Z",\n        "resolutionDegree": 0.052,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.1,\n        "horizontalAccuracyCE90": 3,\n        "sensors": "TEST_SENSOR3",\n        "countries": "\u05d9\u05e9\u05e8\u05d0\u05dc, \u05de\u05e8\u05db\u05d6",\n        "cities": "",\n        "description": "\u05ea\u05e9\u05ea\u05d9\u05ea \u05d0\u05d5\u05e8\u05ea\u05d5\u05e4\u05d5\u05d8\u05d5 \u05e2\u05d3\u05db\u05e0\u05d9 \u05dc\u05de\u05d0\u05d9 2021"\n      },\n      "bbox": [\n        34.890572098923826, 29.819712060693362, 35.017272438849716,\n        29.9596406497117\n      ]\n    },\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.7",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [34.98549473145019, 29.782811797130847],\n            [34.90115724749933, 29.782811797130847],\n            [34.90115724749933, 29.672690878996704],\n            [34.98549473145019, 29.672690878996704],\n            [34.98549473145019, 29.782811797130847]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 4,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_5_ORT_240115",\n        "name": "O_center_w84geo_Apr17_gpkg_0.07",\n        "updatedInVersion": "4",\n        "ingestionDateUTC": "2024-07-15T12:49:28.597Z",\n        "imagingTimeBeginUTC": "2021-06-11T02:00:00Z",\n        "imagingTimeEndUTC": "2021-06-11T02:00:00Z",\n        "resolutionDegree": 0.62,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.07,\n        "horizontalAccuracyCE90": 4,\n        "sensors": "OTHER",\n        "countries": "\u05d9\u05e9\u05e8\u05d0\u05dc, \u05e6\u05e4\u05d5\u05df",\n        "cities": "",\n        "description": "\u05ea\u05e9\u05ea\u05d9\u05ea \u05e2\u05d3\u05db\u05e0\u05d9 2021"\n      },\n      "bbox": [\n        34.890572098923826, 29.819712060693362, 35.017272438849716,\n        29.9596406497117\n      ]\n    },\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.9",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [34.98549473145019, 29.782811797130847],\n            [34.90115724749933, 29.782811797130847],\n            [34.90115724749933, 29.672690878996704],\n            [34.98549473145019, 29.672690878996704],\n            [34.98549473145019, 29.782811797130847]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 5,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_5_ORT_240115-11.2",\n        "name": "O_w84geo_Apr17-Jun22_gpkg_0.08",\n        "updatedInVersion": "5",\n        "ingestionDateUTC": "2024-07-15T12:49:28.597Z",\n        "imagingTimeBeginUTC": "2021-05-12T04:00:00Z",\n        "imagingTimeEndUTC": "2021-05-12T04:00:00Z",\n        "resolutionDegree": 0.072,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.07,\n        "horizontalAccuracyCE90": 4,\n        "sensors": "OTHER",\n        "countries": "\u05d9\u05e9\u05e8\u05d0\u05dc",\n        "cities": "",\n        "description": "\u05ea\u05e9\u05ea\u05d9\u05ea \u05d0\u05d5\u05e8\u05ea\u05d5\u05e4\u05d5\u05d8\u05d5 \u05e2\u05d3\u05db\u05e0\u05d9 \u05dc\u05de\u05d0\u05d9 2021"\n      },\n      "bbox": [\n        34.90115724749933, 29.672690878996704, 34.98549473145019,\n        29.782811797130847\n      ]\n    }\n  ],\n  "totalFeatures": 7,\n  "numberMatched": 7,\n  "numberReturned": 3,\n  "timeStamp": "2024-07-21T12:38:40.254Z",\n  "links": [\n    {\n      "title": "previous page",\n      "type": "application/json",\n      "rel": "previous",\n      "href": "https://polygon-parts.mapcolonies.net/api/raster/v1/wfs?FILTER=%28%3Cfes%3AFilter%20xmlns%3Axs%3D%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema%22%20xmlns%3Afes%3D%22http%3A%2F%2Fwww.opengis.net%2Ffes%2F2.0%22%20xmlns%3Agml%3D%22http%3A%2F%2Fwww.opengis.net%2Fgml%2F3.2%22%3E%3Cfes%3APropertyIsEqualTo%20matchAction%3D%22Any%22%20matchCase%3D%22true%22%3E%3Cfes%3AValueReference%3EproductId%3C%2Ffes%3AValueReference%3E%3Cfes%3ALiteral%3EORTHOPHOTO_MOSAIC_BASE%3C%2Ffes%3ALiteral%3E%3C%2Ffes%3APropertyIsEqualTo%3E%3C%2Ffes%3AFilter%3E%29&REQUEST=GetFeature&RESULTTYPE=RESULTS&OUTPUTFORMAT=application%2Fjson&VERSION=2.0.0&TYPENAMES=%28polygon_parts%3AORTHOPHOTO_MOSAIC_BASE-OrthophotoBest%29&SERVICE=WFS&COUNT=1&STARTINDEX=0"\n    }\n  ],\n  "crs": {\n    "type": "name",\n    "properties": {\n      "name": "urn:ogc:def:crs:EPSG::4326"\n    }\n  },\n  "bbox": [\n    34.90115724749933, 29.672690878996704, 34.98549473145019, 29.782811797130847\n  ]\n}\n'))),(0,o.kt)("h3",{id:"sorting"},"Sorting"),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"To get layer's polygon parts features sorted by some property such as ",(0,o.kt)("inlineCode",{parentName:"li"},"updatedInVersion")," we can invoke the following request.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"<POLYGON_PARTS_QUERY_SERVICE_URL>/wfs?\n    service=wfs&\n    version={WFS_SERVICE_VERSION}&\n    request=GetFeature&\n    typeNames=ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest&\n    sortBy=updatedInVersion&\n    outputFormat=application/json\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Response"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "FeatureCollection",\n  "features": [\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.12",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [180, 90],\n            [180, -90],\n            [-180, -90],\n            [-180, 90],\n            [180, 90]\n          ],\n          [\n            [34.98549473145019, 29.782811797130847],\n            [34.90115724749933, 29.782811797130847],\n            [34.90115724749933, 29.672690878996704],\n            [34.98549473145019, 29.672690878996704],\n            [34.98549473145019, 29.782811797130847]\n          ],\n          [\n            [34.98549473145019, 29.782811797130847],\n            [34.90115724749933, 29.782811797130847],\n            [34.90115724749933, 29.672690878996704],\n            [34.98549473145019, 29.672690878996704],\n            [34.98549473145019, 29.782811797130847]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 1,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "BlueMarble",\n        "name": "O_BlueMarble_rgb_2km",\n        "updatedInVersion": "1",\n        "ingestionDateUTC": "2024-07-11T06:27:49.757Z",\n        "imagingTimeBeginUTC": "2001-01-01T05:00:00Z",\n        "imagingTimeEndUTC": "2001-01-01T05:00:00Z",\n        "resolutionDegree": 0.02197265625,\n        "resolutionMeter": 2000,\n        "sourceResolutionMeter": 2500,\n        "horizontalAccuracyCE90": 2000,\n        "sensors": "MAXAR",\n        "countries": "\u05e2\u05d5\u05dc\u05de\u05d9",\n        "cities": "",\n        "description": ""\n      },\n      "bbox": [-180, -90, 180, 90]\n    },\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.3",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [34.98549473145019, 29.782811797130847],\n            [34.90115724749933, 29.782811797130847],\n            [34.90115724749933, 29.672690878996704],\n            [34.98549473145019, 29.672690878996704],\n            [34.98549473145019, 29.782811797130847]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 2,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_6_ORT_247568-26.0",\n        "name": "O_south_w84geo_Tiff_10cm",\n        "updatedInVersion": "2",\n        "ingestionDateUTC": "2024-07-11T06:27:49.757Z",\n        "imagingTimeBeginUTC": "2022-08-20T23:08:10Z",\n        "imagingTimeEndUTC": "2022-08-20T23:08:10Z",\n        "resolutionDegree": 0.072,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.1,\n        "horizontalAccuracyCE90": 1.5,\n        "sensors": "TEST_SENSOR_2",\n        "countries": "\u05d9\u05e9\u05e8\u05d0\u05dc, \u05d3\u05e8\u05d5\u05dd \u05d4\u05d0\u05e8\u05e5, \u05d3\u05e8\u05d5\u05dd",\n        "cities": "",\n        "description": "\u05ea\u05e9\u05ea\u05d9\u05ea \u05d0\u05d5\u05e8\u05ea\u05d5\u05e4\u05d5\u05d8\u05d5 \u05d1\u05d0\u05d9\u05d6\u05d5\u05e8 \u05d3\u05e8\u05d5\u05dd \u05e2\u05d3\u05db\u05e0\u05d9\u05ea \u05dc\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8 2022"\n      },\n      "bbox": [\n        34.90115724749933, 29.672690878996704, 34.98549473145019,\n        29.782811797130847\n      ]\n    },\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.5",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [34.98549473145019, 29.782811797130847],\n            [34.90115724749933, 29.782811797130847],\n            [34.90115724749933, 29.672690878996704],\n            [34.98549473145019, 29.672690878996704],\n            [34.98549473145019, 29.782811797130847]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 3,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_6_ORT_247568-26.0",\n        "name": "O_south_w84geo_Tiff_10cm",\n        "updatedInVersion": "3",\n        "ingestionDateUTC": "2024-07-11T06:27:49.757Z",\n        "imagingTimeBeginUTC": "2021-05-15T23:09:00Z",\n        "imagingTimeEndUTC": "2021-05-15T23:09:00Z",\n        "resolutionDegree": 0.072,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.1,\n        "horizontalAccuracyCE90": 3,\n        "sensors": "TEST_SENSOR_1",\n        "countries": "\u05d9\u05e9\u05e8\u05d0\u05dc, \u05d3\u05e8\u05d5\u05dd",\n        "cities": "",\n        "description": "\u05ea\u05e9\u05ea\u05d9\u05ea \u05d0\u05d5\u05e8\u05ea\u05d5\u05e4\u05d5\u05d8\u05d5 \u05d1\u05d3\u05e8\u05d5\u05dd \u05d4\u05d0\u05e8\u05e5 \u05e2\u05d3\u05db\u05e0\u05d9 \u05dc\u05de\u05d0\u05d9 2021"\n      },\n      "bbox": [\n        34.90115724749933, 29.672690878996704, 34.98549473145019,\n        29.782811797130847\n      ]\n    },\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.7",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [34.784517383368296, 32.09026061257954],\n            [34.784517383368296, 32.02584851078221],\n            [34.87342700067666, 32.02584851078221],\n            [34.87342700067666, 32.09026061257954],\n            [34.784517383368296, 32.09026061257954]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 4,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_5_ORT_240115-11.1",\n        "name": "O_center_w84geo_Apr17-Jun22_gpkg_0.07",\n        "updatedInVersion": "4",\n        "ingestionDateUTC": "2024-07-11T06:27:49.757Z",\n        "imagingTimeBeginUTC": "2021-06-11T02:00:00Z",\n        "imagingTimeEndUTC": "2021-06-11T02:00:00Z",\n        "resolutionDegree": 0.062,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.07,\n        "horizontalAccuracyCE90": 4,\n        "sensors": "OTHER",\n        "countries": "\u05d9\u05e9\u05e8\u05d0\u05dc",\n        "cities": "",\n        "description": "\u05ea\u05e9\u05ea\u05d9\u05ea \u05d0\u05d5\u05e8\u05ea\u05d5\u05e4\u05d5\u05d8\u05d5  \u05d1\u05de\u05e8\u05db\u05d6  \u05d4\u05d0\u05e8\u05e5 \u05e2\u05d3\u05db\u05e0\u05d9 \u05dc\u05d9\u05d5\u05e0\u05d9 2021"\n      },\n      "bbox": [\n        34.784517383368296, 32.02584851078221, 34.87342700067666,\n        32.09026061257954\n      ]\n    },\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.9",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [34.784517383368296, 32.09026061257954],\n            [34.784517383368296, 32.02584851078221],\n            [34.87342700067666, 32.02584851078221],\n            [34.87342700067666, 32.09026061257954],\n            [34.784517383368296, 32.09026061257954]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 5,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_5_ORT_240115-11.2",\n        "name": "O_center_w84geo_Apr17-Jun22_gpkg_0.08",\n        "updatedInVersion": "5",\n        "ingestionDateUTC": "2024-07-11T06:27:49.757Z",\n        "imagingTimeBeginUTC": "2021-05-12T04:00:00Z",\n        "imagingTimeEndUTC": "2021-05-12T04:00:00Z",\n        "resolutionDegree": 0.062,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.07,\n        "horizontalAccuracyCE90": 4,\n        "sensors": "OTHER",\n        "countries": "\u05d9\u05e9\u05e8\u05d0\u05dc",\n        "cities": "",\n        "description": "\u05ea\u05e9\u05ea\u05d9\u05ea \u05d0\u05d5\u05e8\u05ea\u05d5\u05e4\u05d5\u05d8\u05d5 \u05d1\u05de\u05e8\u05db\u05d6 \u05d4\u05de\u05d3\u05d9\u05e0\u05d4 \u05e2\u05d3\u05db\u05e0\u05d9 \u05dc\u05de\u05d0\u05d9 2021"\n      },\n      "bbox": [\n        34.784517383368296, 32.02584851078221, 34.87342700067666,\n        32.09026061257954\n      ]\n    },\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.11",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [35.064814353455404, 32.85094300562277],\n            [35.064814353455404, 32.808880172316066],\n            [35.09637711939874, 32.808880172316066],\n            [35.09637711939874, 32.85094300562277],\n            [35.064814353455404, 32.85094300562277]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 6,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_6_ORT_247268-6.0",\n        "name": "O_north_w84geo_rgb_Tiff_30cm",\n        "updatedInVersion": "6",\n        "ingestionDateUTC": "2024-07-11T06:27:49.757Z",\n        "imagingTimeBeginUTC": "2021-07-11T04:00:00Z",\n        "imagingTimeEndUTC": "2021-07-11T04:00:00Z",\n        "resolutionDegree": 0.052,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.3,\n        "horizontalAccuracyCE90": 6,\n        "sensors": "WORLDVIEW2",\n        "countries": "",\n        "cities": "",\n        "description": "10300100C2411D00"\n      },\n      "bbox": [\n        35.064814353455404, 32.808880172316066, 35.09637711939874,\n        32.85094300562277\n      ]\n    },\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.13",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [34.988118558230155, 32.817028819163966],\n            [34.988118558230155, 32.79262878072221],\n            [35.054288443470284, 32.79262878072221],\n            [35.054288443470284, 32.817028819163966],\n            [34.988118558230155, 32.817028819163966]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 7,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_6_ORT_247268-6.0",\n        "name": "O_north_w84geo_rgb_Tiff_30cm",\n        "updatedInVersion": "7",\n        "ingestionDateUTC": "2024-07-11T06:27:49.757Z",\n        "imagingTimeBeginUTC": "2021-09-01T04:00:00Z",\n        "imagingTimeEndUTC": "2021-09-01T04:00:00Z",\n        "resolutionDegree": 0.072,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.3,\n        "horizontalAccuracyCE90": 8.5,\n        "sensors": "TEST_SENSOR_2",\n        "countries": "",\n        "cities": "",\n        "description": "38225114-2021090108361457WV03038225"\n      },\n      "bbox": [\n        34.988118558230155, 32.79262878072221, 35.054288443470284,\n        32.817028819163966\n      ]\n    }\n  ],\n  "totalFeatures": 7,\n  "numberMatched": 7,\n  "numberReturned": 7,\n  "timeStamp": "2024-07-11T08:22:41.924Z",\n  "crs": {\n    "type": "name",\n    "properties": {\n      "name": "urn:ogc:def:crs:EPSG::4326"\n    }\n  },\n  "bbox": [-180, -90, 180, 90]\n}\n'))),(0,o.kt)("h3",{id:"query-by-geographical-limits"},"Query by geographical limits"),(0,o.kt)("p",null,"For more complex criteria such as a set of multiple parameters or geographical intersections we should invoke a POST GetFetures request consisting the filter as a XML body."),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"let's look for all the polygon parts features that intersect in a polygon, one of the properties of a polygon part feature is it's geometry describing the polygon part geography, we'll look by it by setting it as the request ",(0,o.kt)("inlineCode",{parentName:"li"},"ValueReference"),". We can specify the ",(0,o.kt)("inlineCode",{parentName:"li"},"srsName")," which is the coordinate reference system of the returned features in our case ",(0,o.kt)("inlineCode",{parentName:"li"},"EPSG:4326"),".\nthe polygon is a list of latitude-longitude pair coordinates.")),(0,o.kt)("p",null,"We'll invoke a POST GetFeature request with the following body:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="utf-8" ?>\n<wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:sf="http://www.openplans.org/spearfish" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="2.0.0" count="2" xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd" outputFormat="application/json">\n    <wfs:Query typeNames="polygon_parts:ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest">\n        <fes:Filter>\n            <fes:Intersects>\n                <fes:ValueReference>geometry</fes:ValueReference>\n                <gml:Polygon gml:id="polygon.1" srsName="http://www.opengis.net/gml/srs/epsg.xml#4326">\n                    <gml:exterior>\n                        <gml:LinearRing>\n                            <gml:posList>\n                                35.34244 32.2543 34.92215 32.2543 34.9221 31.8823 35.34244 31.8823 35.34244 32.2543\n                            </gml:posList>\n                        </gml:LinearRing>\n                    </gml:exterior>\n                </gml:Polygon>\n            </fes:Intersects>\n        </fes:Filter>\n    </wfs:Query>\n</wfs:GetFeature>\n')),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Response"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "FeatureCollection",\n  "features": [\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.7",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [34.86972277637517, 32.019564407769835],\n            [34.762249171646715, 32.019564407769835],\n            [34.762249171646715, 31.955123269803096],\n            [34.86972277637517, 31.955123269803096],\n            [34.86972277637517, 32.019564407769835]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 4,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_5_ORT_240115-11.1",\n        "name": "O_center_w84geo_Apr17-Jun22_gpkg_0.07",\n        "updatedInVersion": "4",\n        "ingestionDateUTC": "2024-07-11T06:27:49.757Z",\n        "imagingTimeBeginUTC": "2021-06-11T02:00:00Z",\n        "imagingTimeEndUTC": "2021-06-11T02:00:00Z",\n        "resolutionDegree": 0.072,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.07,\n        "horizontalAccuracyCE90": 4,\n        "sensors": "OTHER",\n        "countries": "\u05d9\u05e9\u05e8\u05d0\u05dc",\n        "cities": "",\n        "description": "\u05ea\u05e9\u05ea\u05d9\u05ea \u05d0\u05d5\u05e8\u05ea\u05d5\u05e4\u05d5\u05d8\u05d5 \u05d1\u05de\u05e8\u05db\u05d6 \u05d4\u05d0\u05e8\u05e5 \u05e2\u05d3\u05db\u05e0\u05d9 \u05dc\u05d9\u05d5\u05e0\u05d9 2021"\n      },\n      "bbox": [\n        34.762249171646715, 31.955123269803096, 34.86972277637517,\n        32.019564407769835\n      ]\n    },\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.9",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [34.86972277637517, 32.019564407769835],\n            [34.762249171646715, 32.019564407769835],\n            [34.762249171646715, 31.955123269803096],\n            [34.86972277637517, 31.955123269803096],\n            [34.86972277637517, 32.019564407769835]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 5,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_5_ORT_240115-11.2",\n        "name": "O_center_w84geo_Apr17-Jun22_gpkg_0.08",\n        "updatedInVersion": "5",\n        "ingestionDateUTC": "2024-07-11T06:27:49.757Z",\n        "imagingTimeBeginUTC": "2021-05-12T04:00:00Z",\n        "imagingTimeEndUTC": "2021-05-12T04:00:00Z",\n        "resolutionDegree": 0.072,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.07,\n        "horizontalAccuracyCE90": 4,\n        "sensors": "OTHER",\n        "countries": "\u05d9\u05e9\u05e8\u05d0\u05dc",\n        "cities": "",\n        "description": "\u05ea\u05e9\u05ea\u05d9\u05ea \u05d0\u05d5\u05e8\u05ea\u05d5\u05e4\u05d5\u05d8\u05d5 \u05d1\u05de\u05e8\u05db\u05d6 \u05d4\u05de\u05d3\u05d9\u05e0\u05d4 \u05e2\u05d3\u05db\u05e0\u05d9 \u05dc\u05de\u05d0\u05d9 2021"\n      },\n      "bbox": [\n        34.762249171646715, 31.955123269803096, 34.86972277637517,\n        32.019564407769835\n      ]\n    }\n  ],\n  "totalFeatures": 3,\n  "numberMatched": 3,\n  "numberReturned": 2,\n  "timeStamp": "2024-07-11T08:19:13.094Z",\n  "crs": {\n    "type": "name",\n    "properties": {\n      "name": "urn:ogc:def:crs:EPSG::4326"\n    }\n  },\n  "bbox": [35.0607, 31.9323, 35.3664, 32.3249]\n}\n'))),(0,o.kt)("h3",{id:"combining-multiple-filters"},"Combining multiple filters"),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"if we'd like to filter parts by a set of multiple parameters we'll achieve that by a ",(0,o.kt)("inlineCode",{parentName:"li"},"GetFeature")," ",(0,o.kt)("strong",{parentName:"li"},"POST")," request.\nSay we would like to retrieve only the polygon parts who's ",(0,o.kt)("inlineCode",{parentName:"li"},"resolutionDegree")," is greater than ",(0,o.kt)("strong",{parentName:"li"},"0.060")," and their ",(0,o.kt)("inlineCode",{parentName:"li"},"sensors")," type is ",(0,o.kt)("strong",{parentName:"li"},"other"),".")),(0,o.kt)("p",null,"We'll invoke a request with the following body:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",2:!0,className:"language-xml",metastring:'title="Query with 2 filters"',title:'"Query',with:!0,'filters"':!0},'<wfs:GetFeature service="WFS" version="2.0.0" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd" count="4" outputFormat="application/json">\n    <wfs:Query typeNames="polygon_parts:ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest">\n        <fes:Filter>\n            <And>\n            <fes:PropertyIsEqualTo>\n               <fes:ValueReference>sensors</fes:ValueReference>\n               <fes:Literal>OTHER</fes:Literal>\n            </fes:PropertyIsEqualTo>\n                        <fes:PropertyIsGreaterThan>\n               <fes:ValueReference>resolutionMeter</fes:ValueReference>\n               <fes:Literal>0.06</fes:Literal>\n            </fes:PropertyIsGreaterThan>\n            </And>\n        </fes:Filter>\n    </wfs:Query>\n</wfs:GetFeature>\n')),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Response"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Reponse in GeoJSON"',title:'"Reponse',in:!0,'GeoJSON"':!0},'{\n  "type": "FeatureCollection",\n  "features": [\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.7",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [34.86972277637517, 32.019564407769835],\n            [34.762249171646715, 32.019564407769835],\n            [34.762249171646715, 31.955123269803096],\n            [34.86972277637517, 31.955123269803096],\n            [34.86972277637517, 32.019564407769835]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 4,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_5_ORT_240115-11.1",\n        "name": "O_center_w84geo_Apr17-Jun22_gpkg_0.07",\n        "updatedInVersion": "4",\n        "ingestionDateUTC": "2024-07-11T06:27:49.757Z",\n        "imagingTimeBeginUTC": "2021-06-11T02:00:00Z",\n        "imagingTimeEndUTC": "2021-06-11T02:00:00Z",\n        "resolutionDegree": 0.072,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.07,\n        "horizontalAccuracyCE90": 4,\n        "sensors": "OTHER",\n        "countries": "\u05d9\u05e9\u05e8\u05d0\u05dc",\n        "cities": "",\n        "description": "\u05ea\u05e9\u05ea\u05d9\u05ea \u05d0\u05d5\u05e8\u05ea\u05d5\u05e4\u05d5\u05d8\u05d5  \u05d1\u05de\u05e8\u05db\u05d6  \u05d4\u05d0\u05e8\u05e5 \u05e2\u05d3\u05db\u05e0\u05d9 \u05dc\u05d9\u05d5\u05e0\u05d9 2021"\n      },\n      "bbox": [\n        34.762249171646715, 31.955123269803096, 34.86972277637517,\n        32.019564407769835\n      ]\n    },\n    {\n      "type": "Feature",\n      "id": "ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest.9",\n      "geometry": {\n        "type": "Polygon",\n        "coordinates": [\n          [\n            [34.86972277637517, 32.019564407769835],\n            [34.762249171646715, 32.019564407769835],\n            [34.762249171646715, 31.955123269803096],\n            [34.86972277637517, 31.955123269803096],\n            [34.86972277637517, 32.019564407769835]\n          ]\n        ]\n      },\n      "geometry_name": "geometry",\n      "properties": {\n        "partId": 5,\n        "recordId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n        "productId": "ORTHOPHOTO_MOSAIC_BASE",\n        "producType": "OrthophotoBest",\n        "id": "MAS_5_ORT_240115-11.2",\n        "name": "O_center_w84geo_Apr17-Jun22_gpkg_0.08",\n        "updatedInVersion": "5",\n        "ingestionDateUTC": "2024-07-11T06:27:49.757Z",\n        "imagingTimeBeginUTC": "2021-05-12T04:00:00Z",\n        "imagingTimeEndUTC": "2021-05-12T04:00:00Z",\n        "resolutionDegree": 0.072,\n        "resolutionMeter": 0.6,\n        "sourceResolutionMeter": 0.07,\n        "horizontalAccuracyCE90": 4,\n        "sensors": "OTHER",\n        "countries": "\u05d9\u05e9\u05e8\u05d0\u05dc",\n        "cities": "",\n        "description": "\u05ea\u05e9\u05ea\u05d9\u05ea \u05d0\u05d5\u05e8\u05ea\u05d5\u05e4\u05d5\u05d8\u05d5 \u05d1\u05de\u05e8\u05db\u05d6 \u05d4\u05de\u05d3\u05d9\u05e0\u05d4 \u05e2\u05d3\u05db\u05e0\u05d9 \u05dc\u05de\u05d0\u05d9 2021"\n      },\n      "bbox": [\n        34.762249171646715, 31.955123269803096, 34.86972277637517,\n        32.019564407769835\n      ]\n    }\n  ],\n  "totalFeatures": 2,\n  "numberMatched": 2,\n  "numberReturned": 2,\n  "timeStamp": "2024-07-11T08:17:33.255Z",\n  "crs": {\n    "type": "name",\n    "properties": {\n      "name": "urn:ogc:def:crs:EPSG::4326"\n    }\n  },\n  "bbox": [\n    34.762249171646715, 31.955123269803096, 34.86972277637517,\n    32.019564407769835\n  ]\n}\n'))))}d.isMDXComponent=!0},16394:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/polygon_parts_example-a30ce3c16dfce62c32721cbc76d1bf86.png"}}]);